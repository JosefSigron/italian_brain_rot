# Italian Brain Rot Video Generator

This project generates quirky videos featuring a fruit-animal hybrid character with Italian narration. The system orchestrates a complete pipeline:

1. **Text Generation**: Creates a hybrid fruit-animal name and a story in Italian
2. **Image Generation**: Creates an image of the hybrid character
3. **Speech Generation**: Converts the Italian story to speech
4. **Video Creation**: Combines the image, speech, and adds subtitles

## Setup Instructions

### Prerequisites

- Python 3.8+
- OpenAI API key (for GPT-4o, DALL-E, and TTS)
- Vosk speech recognition model (for subtitle generation)

### Installation

1. Clone this repository:
   ```
   git clone <repository-url>
   cd italian_brain_rot
   ```

2. Install the required dependencies:
   ```
   pip install openai moviepy pydub vosk pillow tqdm requests
   ```

3. Set up your OpenAI API key:
   ```
   export OPENAI_API_KEY="your_api_key_here"
   ```
   (On Windows, use `set OPENAI_API_KEY=your_api_key_here`)

4. Download the Vosk speech recognition model:
   - Create a `model` directory in the project root
   - Download the small English model from [Vosk Models](https://alphacephei.com/vosk/models) (vosk-model-small-en-us-0.15.zip)
   - Extract it to the `model` directory, so you have `model/vosk-model-small-en-us-0.15/`

5. (Optional) Create font directory for better-looking subtitles:
   ```
   mkdir -p data/fonts
   ```
   - Add a font file like "THEBOLDFONT-FREEVERSION.ttf" to this directory for better-looking subtitles

## Usage

### Run the Complete Pipeline

To run the entire process from text generation to video creation:

```
python src/run_all.py
```

### Run Individual Components

Each component can be run independently:

1. Generate text:
   ```
   python src/generate_text.py
   ```

2. Generate image:
   ```
   python src/generate_image.py
   ```

3. Generate speech:
   ```
   python src/generate_speech.py
   ```

4. Create video:
   ```
   python src/create_video.py
   ```

## Output Files

All generated files are stored in the `results` directory:

- `results/transcripts/`: Story text and first line for the character name
- `results/images/`: Character images generated by DALL-E
- `results/speeches/`: Audio narration of the story
- `results/videos/`: Final videos with image, audio, and subtitles

## How It Works

1. `generate_text.py`:
   - Randomly selects a fruit and animal
   - Uses GPT-4o to create a hybrid character name and Italian story
   - Saves the output to the transcripts directory

2. `generate_image.py`:
   - Reads the character name from the transcript
   - Uses DALL-E 3 to create an image of the character
   - Saves the image to the images directory

3. `generate_speech.py`:
   - Reads the Italian story from the transcript
   - Uses OpenAI's TTS to generate speech
   - Saves the audio to the speeches directory

4. `create_video.py`:
   - Reads the latest image and speech file
   - Extracts word timings from the audio for subtitles
   - Creates a video with the image, audio, and synchronized subtitles

## Troubleshooting

- **OpenAI API Issues**: Ensure your API key is set correctly and you have sufficient credits.
- **Speech Recognition Issues**: Make sure the Vosk model is downloaded and extracted correctly.
- **Font Issues**: If custom fonts don't work, the system will fall back to default fonts.
- **Video Generation Issues**: Check that moviepy and its dependencies (like ffmpeg) are correctly installed.

## License

This project is for educational and entertainment purposes.

## Acknowledgments

- [OpenAI](https://openai.com/) for GPT-4o, DALL-E 3, and TTS
- [Vosk](https://alphacephei.com/vosk/) for speech recognition
- [MoviePy](https://zulko.github.io/moviepy/) for video generation 